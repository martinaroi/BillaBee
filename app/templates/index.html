<!DOCTYPE html>
<html>
    <head>
        <title>Hive of BillaBee</title>
        <link rel="stylesheet" href="/static/style.css">
        <!-- Removed the unused "Patrick Hand" font for slightly faster loading -->
        <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&display=swap" rel="stylesheet">
    <!-- Markdown rendering + sanitization -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.1.6/dist/purify.min.js"></script>
    </head>
    <body>
        <header>
            <div class="bee-icon">🐝</div>
            <h1>Hive of BillaBee</h1>
            <div class="bee-icon">🐝</div>
        </header>


        <!-- Main content area -->
        <main>
            <!-- This section is visible on page load -->
            <div class="welcome-section" id="welcome-section">
                <div class="welcome-message">
                    <h2>Hey honey🍯</h2>
                    <h3>Ready for a productive day?</h3>
                </div>

                <div class="user-select">
                    <label for="user">Select User:</label>
                    <select id="user" name="user" onchange="switchUser()">
                        <option value="Martina">Martina</option>
                        <option value="Vita">Vita</option>
                        <!-- Add more users here as you create their profiles -->
                    </select>
                </div>

                <!-- The form MUST have id="search-form" -->
                <form class="search-container" id="search-form">
                    <!-- The input MUST have id="search" -->
                    <textarea id="search" name="q" rows="1" placeholder="What do you need to get done today?"></textarea>
                    <button type="submit">Let's get buzzzy! 🐝</button>
                </form>
                
                <div class="welcome-bottom">
                    <div class="bee-wisdom">
                        <p>Remember: Just like bees in a hive, every small task contributes to something sweet!</p>
                        <p>Bee productive, but don't forget to stop and smell the flowers! 🍯🌸</p>
                    </div>
                    <div class="calendar-link">
                        <a href="https://calendar.google.com/" class="honey-button">
                            🐝 Fly to your Honeycomb Calendar 🐝
                        </a>
                    </div>
                </div>
            </div>

            <!-- This is the chat view, which MUST have id="chat-container" -->
            <div class="chat-container" id="chat-container">
                <div class="chat-box" id="chat-box">
                    <!-- Messages will appear here -->
                </div>
                <div class="input-area">
                    <textarea id="chat-input" rows="1" placeholder="Type your message to Billa the Bee..."></textarea>
                    <button id="chat-send">Buzz! 🐝</button>
                    <div class="chat-calendar-link">
                        <a href="https://calendar.google.com/" target="_blank" rel="noopener noreferrer">
                            Calendar
                        </a>
                    </div>
                </div>
                <div class="events-container" id="events-container">
                </div>
            </div>
        </main>
        
        <footer>
            <p>Hive of BillaBee &copy; 2025 | Buzz Your Way to Productivity</p>
        </footer>

        <script src="static/script.js"></script>
    </body>
</html>